"use strict";(self["webpackChunkapp"]=self["webpackChunkapp"]||[]).push([[722],{9273:(e,l,o)=>{o.d(l,{h:()=>g});var a=o(499),t=o(9835),n=o(3100),i=o(8910),s=o(2007),c=o(4328);const u=({color:e="primary",message:l="",icon:o=""})=>{c.Z.create({message:l,color:e,icon:o,position:"top"})};var m=o(7155),r=o(9443),d=o(9048),p=o(9017);const{t:v}=s.i18n.global,g=()=>{const e=(0,a.qj)({invoice:{...m.N},isLoading:!1}),{getters:l,dispatch:o}=(0,n.oR)(),c=(0,i.tv)(),g=(0,p.hJ)(d.F,"invoices"),b=(0,a.iH)(!1),y=async()=>{b.value=!0,await o("loadInvoices"),b.value=!1},w=async l=>{try{e.isLoading=!0;const o=(0,p.JU)(d.F,"invoices",l),a=await(0,p.QT)(o,l);e.invoice=await{...a.data(),id:a.id},e.invoice.name||c.push({name:"404Page"})}catch(o){console.log(o)}finally{e.isLoading=!1}},f=async e=>{try{(0,p.ET)(g,{...e}),u({color:"positive",message:v("common.invoiceAction.create.success"),icon:"assignment"})}catch(l){u({color:"negative",message:v("common.invoiceAction.create.error"),icon:"error"}),console.log(l)}},q=async(e,l)=>{try{const o=(0,p.JU)(d.F,"invoices",e);await(0,p.r7)(o,{...l}),u({color:"positive",message:v("common.invoiceAction.edit.success"),icon:"delete"})}catch(o){u({color:"negative",message:v("common.invoiceAction.edit.error"),icon:"error"}),console.log(o)}},_=async e=>{try{const l=(0,p.JU)(d.F,"invoices",e);await(0,p.oe)(l),u({color:"positive",message:v("common.invoiceAction.delete.success"),icon:"delete"})}catch(l){u({color:"negative",message:v("common.invoiceAction.delete.error"),icon:"error"}),console.log(l)}finally{c.push({name:"HomePage"})}},S=(0,a.iH)(r.Do.value[0]),F=(0,t.Fl)((()=>"All"===S.value.value?l.getInvoices:l.getInvoices.filter((({invoiceStatus:e})=>e.value.toLowerCase()===S.value.value.toLowerCase()))));return(0,t.YP)((()=>s.i18n.global.locale),(()=>{S.value.label=v(`common.${S.value.value.toLowerCase()}`)})),{filteredInvoices:F,statusFilter:S,isLoading:b,loadInvoices:y,loadSingleInvoice:w,invoiceDetailsState:e,createInvoice:f,editInvoice:q,deleteInvoice:_}}},7155:(e,l,o)=>{o.d(l,{N:()=>n,v:()=>i});var a=o(2007);const{t}=a.i18n.global,n={name:null,street:null,city:null,country:null,email:null,zipCode:null,paymentDueDate:null,paymentAmount:null,invoiceStatus:null},i=e=>null!==e&&""!==e?null:t("invoiceForm.requiredField")},9443:(e,l,o)=>{o.d(l,{Do:()=>i,hZ:()=>s,zF:()=>c});var a=o(2007),t=o(9835);const{t:n}=a.i18n.global,i=(0,t.Fl)((()=>[{label:n("common.all"),value:"All"},{label:n("common.pending"),value:"Pending"},{label:n("common.paid"),value:"Paid"}])),s=(0,t.Fl)((()=>[{label:n("common.pending"),value:"pending"},{label:n("common.paid"),value:"paid"}])),c=(0,t.Fl)((()=>[{name:"id",field:"id",label:n("common.invoiceId"),align:"left"},{name:"name",field:"name",label:n("common.name"),align:"left"},{name:"paymentDueDate",field:"paymentDueDate",label:n("common.dueDate"),align:"left"},{name:"invoiceStatus",field:"invoiceStatus",label:n("common.status"),align:"center"},{name:"paymentTotal",field:"paymentTotal",label:n("common.total"),sortable:!0}]))},3722:(e,l,o)=>{o.r(l),o.d(l,{default:()=>$});var a=o(9835),t=o(499),n=o(6970),i=o(7039),s=o(9273),c=o(8910);const u={class:"q-pa-md q-gutter-sm flex justify-between"},m={class:"q-mt-lg"},r={class:"text-h6 flex justify-between"},d={class:"text-grey"},p={class:"text-grey"},v={key:1},g={name:"InvoiceDetails",setup(e){const{params:l}=(0,c.yj)(),{editInvoice:o,deleteInvoice:g,loadSingleInvoice:b,invoiceDetailsState:y}=(0,s.h)(),w=(0,t.iH)(!1),f=async e=>{w.value=!1,y.isLoading=!0,await o(l.id,{...e}),await b(l.id),y.isLoading=!1};return(0,a.wF)(b(l.id)),(e,o)=>{const s=(0,a.up)("q-spinner-gears"),c=(0,a.up)("q-inner-loading"),b=(0,a.up)("q-breadcrumbs-el"),q=(0,a.up)("q-breadcrumbs"),_=(0,a.up)("q-btn"),S=(0,a.up)("q-card-section"),F=(0,a.up)("q-badge"),U=(0,a.up)("q-card");return(0,a.wg)(),(0,a.iD)("div",null,[w.value?((0,a.wg)(),(0,a.j4)(i.Z,(0,a.dG)({key:0,onSubmitForm:f,onClosePopup:o[0]||(o[0]=e=>w.value=!1),actionBtnLabel:e.$t("common.update"),formHeader:e.$t("invoiceForm.editInvoice")},(0,t.SU)(y)),null,16,["actionBtnLabel","formHeader"])):(0,a.kq)("",!0),(0,t.SU)(y).isLoading?((0,a.wg)(),(0,a.j4)(c,{key:1,showing:!0},{default:(0,a.w5)((()=>[(0,a.Wm)(s,{size:"10vw",color:"primary"})])),_:1})):((0,a.wg)(),(0,a.iD)(a.HY,{key:2},[(0,a._)("div",u,[(0,a.Wm)(q,null,{default:(0,a.w5)((()=>[(0,a.Wm)(b,{icon:"arrow_left",to:"/",label:e.$t("common.back"),color:"accent",class:"text-h6"},null,8,["label"])])),_:1}),(0,a._)("div",null,[(0,a.Wm)(_,{color:"positive",onClick:o[1]||(o[1]=e=>w.value=!0),icon:"edit",label:e.$t("common.edit")},null,8,["label"]),(0,a.Wm)(_,{color:"negative",onClick:o[2]||(o[2]=e=>(0,t.SU)(g)((0,t.SU)(l).id)),icon:"delete",label:e.$t("common.delete"),class:"q-ml-md"},null,8,["label"])])]),(0,a._)("div",m,[(0,a.Wm)(U,{class:"q-pa-lg",style:{width:"500px",margin:"0 auto"}},{default:(0,a.w5)((()=>[(0,a.Wm)(S,null,{default:(0,a.w5)((()=>[(0,a._)("p",r,[(0,a._)("span",d,(0,n.zw)(e.$t("common.invoice")),1),(0,a._)("span",null,(0,n.zw)((0,t.SU)(y).invoice.id),1)])])),_:1}),(0,a.Wm)(S,null,{default:(0,a.w5)((()=>[((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)((0,t.SU)(y).invoice,((l,o)=>((0,a.wg)(),(0,a.iD)("div",{class:"q-py-sm flex justify-between",key:o},[(0,a._)("span",p,(0,n.zw)(e.$t(`invoiceForm.${o}`)),1),"invoiceStatus"===o?((0,a.wg)(),(0,a.j4)(F,{key:0,color:"pending"===l.value.toLowerCase()?"grey-7":"positive"},{default:(0,a.w5)((()=>[(0,a.Uk)((0,n.zw)(e.$t(`common.${l.value.toLowerCase()}`)),1)])),_:2},1032,["color"])):((0,a.wg)(),(0,a.iD)("span",v,(0,n.zw)(l),1))])))),128))])),_:1})])),_:1})])],64))])}}};var b=o(854),y=o(9120),w=o(2605),f=o(8052),q=o(4455),_=o(4458),S=o(3190),F=o(990),U=o(9984),h=o.n(U);const V=g,$=V;h()(g,"components",{QInnerLoading:b.Z,QSpinnerGears:y.Z,QBreadcrumbs:w.Z,QBreadcrumbsEl:f.Z,QBtn:q.Z,QCard:_.Z,QCardSection:S.Z,QBadge:F.Z})},7039:(e,l,o)=>{o.d(l,{Z:()=>B});var a=o(9835),t=o(6970),n=o(499);const i={name:"TheDialog",props:{width:{type:[Number,String],default:300}},setup(e){const l=!0;return(o,n)=>{const i=(0,a.up)("q-btn"),s=(0,a.up)("q-card-actions"),c=(0,a.up)("q-card-section"),u=(0,a.up)("q-card"),m=(0,a.up)("q-dialog");return(0,a.wg)(),(0,a.j4)(m,{modelValue:l,"onUpdate:modelValue":n[1]||(n[1]=e=>l=e),persistent:"","transition-show":"scale","transition-hide":"scale"},{default:(0,a.w5)((()=>[(0,a.Wm)(u,{class:"",style:(0,t.j5)(`width: ${e.width}px`)},{default:(0,a.w5)((()=>[(0,a.Wm)(s,{align:"right"},{default:(0,a.w5)((()=>[(0,a.Wm)(i,{flat:"",icon:"close",color:"red",onClick:n[0]||(n[0]=e=>o.$emit("close-popup"))})])),_:1}),(0,a.WI)(o.$slots,"popupHeader"),(0,a.Wm)(c,null,{default:(0,a.w5)((()=>[(0,a.WI)(o.$slots,"popupContent")])),_:3}),(0,a.Wm)(c,null,{default:(0,a.w5)((()=>[(0,a.WI)(o.$slots,"popupFooter")])),_:3})])),_:3},8,["style"])])),_:3})}}};var s=o(7743),c=o(4458),u=o(1821),m=o(4455),r=o(3190),d=o(9984),p=o.n(d);const v=i,g=v;p()(i,"components",{QDialog:s.Z,QCard:c.Z,QCardActions:u.Z,QBtn:m.Z,QCardSection:r.Z});var b=o(7155),y=o(9443);const w={class:"text-h5 q-pl-md q-ma-none"},f={class:"q-my-md"},q={class:"text-subtitle1 q-mb-xs text-grey"},_={class:"q-mb-sm"},S={class:"row q-gutter-sm q-mb-sm"},F={class:"col"},U={class:"col"},h={class:"row q-gutter-sm"},V={class:"col"},$={class:"col"},W={class:"col"},D={class:"q-my-md"},C={class:"text-subtitle1 q-mb-xs text-grey"},z={class:"row q-gutter-sm"},Z={class:"col"},I={class:"col"},k={class:"col"},Q={class:"row justify-end"},x={name:"InvoiceForm",props:{actionBtnLabel:{type:String,required:!0},formHeader:{type:String,required:!0},invoice:{type:Object,default:()=>({...b.N})}},emits:["closePopup","submitForm"],setup(e,{emit:l}){const o=e,i=(0,n.qj)({...o.invoice}),s=(0,a.Fl)((()=>{for(const e in i)if(""===i[e]||null===i[e]||"undefined"==typeof i[e])return!1;return!0})),c=()=>{for(const e in i)i[e]=null};return(0,a.Jd)(c),(l,o)=>{const c=(0,a.up)("q-input"),u=(0,a.up)("q-select"),m=(0,a.up)("q-form"),r=(0,a.up)("q-btn");return(0,a.wg)(),(0,a.j4)(g,{width:"600",onClosePopup:o[10]||(o[10]=e=>l.$emit("closePopup"))},{popupHeader:(0,a.w5)((()=>[(0,a._)("p",w,(0,t.zw)(e.formHeader),1)])),popupContent:(0,a.w5)((()=>[(0,a.Wm)(m,null,{default:(0,a.w5)((()=>[(0,a._)("div",f,[(0,a._)("p",q,(0,t.zw)(l.$t("invoiceForm.billTo")),1),(0,a._)("div",_,[(0,a.Wm)(c,{modelValue:i.name,"onUpdate:modelValue":o[0]||(o[0]=e=>i.name=e),"lazy-rules":"",rules:[(0,n.SU)(b.v)],label:l.$t("invoiceForm.name"),filled:""},null,8,["modelValue","rules","label"])]),(0,a._)("div",S,[(0,a._)("div",F,[(0,a.Wm)(c,{modelValue:i.email,"onUpdate:modelValue":o[1]||(o[1]=e=>i.email=e),"lazy-rules":"",rules:[(0,n.SU)(b.v)],label:l.$t("invoiceForm.email"),filled:""},null,8,["modelValue","rules","label"])]),(0,a._)("div",U,[(0,a.Wm)(c,{modelValue:i.street,"onUpdate:modelValue":o[2]||(o[2]=e=>i.street=e),"lazy-rules":"",rules:[(0,n.SU)(b.v)],label:l.$t("invoiceForm.street"),filled:""},null,8,["modelValue","rules","label"])])]),(0,a._)("div",h,[(0,a._)("div",V,[(0,a.Wm)(c,{modelValue:i.zipCode,"onUpdate:modelValue":o[3]||(o[3]=e=>i.zipCode=e),"lazy-rules":"",rules:[(0,n.SU)(b.v)],label:l.$t("invoiceForm.zipCode"),filled:""},null,8,["modelValue","rules","label"])]),(0,a._)("div",$,[(0,a.Wm)(c,{modelValue:i.city,"onUpdate:modelValue":o[4]||(o[4]=e=>i.city=e),"lazy-rules":"",rules:[(0,n.SU)(b.v)],label:l.$t("invoiceForm.city"),filled:""},null,8,["modelValue","rules","label"])]),(0,a._)("div",W,[(0,a.Wm)(c,{modelValue:i.country,"onUpdate:modelValue":o[5]||(o[5]=e=>i.country=e),"lazy-rules":"",rules:[(0,n.SU)(b.v)],label:l.$t("invoiceForm.country"),filled:""},null,8,["modelValue","rules","label"])])])]),(0,a._)("div",D,[(0,a._)("p",C,(0,t.zw)(l.$t("invoiceForm.paymentDetails")),1),(0,a._)("div",z,[(0,a._)("div",Z,[(0,a.Wm)(c,{modelValue:i.paymentDueDate,"onUpdate:modelValue":o[6]||(o[6]=e=>i.paymentDueDate=e),filled:"",mask:"date",label:l.$t("invoiceForm.paymentDueDate"),rules:["date",(0,n.SU)(b.v)]},null,8,["modelValue","label","rules"])]),(0,a._)("div",I,[(0,a.Wm)(c,{modelValue:i.paymentAmount,"onUpdate:modelValue":o[7]||(o[7]=e=>i.paymentAmount=e),"lazy-rules":"",rules:[(0,n.SU)(b.v)],maxlength:"10",label:l.$t("invoiceForm.paymentAmount"),filled:""},null,8,["modelValue","rules","label"])]),(0,a._)("div",k,[(0,a.Wm)(u,{filled:"",modelValue:i.invoiceStatus,"onUpdate:modelValue":o[8]||(o[8]=e=>i.invoiceStatus=e),options:(0,n.SU)(y.hZ),"model-value":i.invoiceStatus,rules:[(0,n.SU)(b.v)],label:l.$t("invoiceForm.invoiceStatus")},null,8,["modelValue","options","model-value","rules","label"])])])])])),_:1})])),popupFooter:(0,a.w5)((()=>[(0,a._)("div",Q,[(0,a.Wm)(r,{onClick:o[9]||(o[9]=e=>l.$emit("submitForm",i)),disabled:!(0,n.SU)(s),type:"submit",class:"q-ml-sm",color:"positive"},{default:(0,a.w5)((()=>[(0,a.Uk)((0,t.zw)(e.actionBtnLabel),1)])),_:1},8,["disabled"])])])),_:1})}}};var L=o(8326),j=o(6611),A=o(7509);const H=x,B=H;p()(x,"components",{QForm:L.Z,QInput:j.Z,QSelect:A.Z,QBtn:m.Z})}}]);